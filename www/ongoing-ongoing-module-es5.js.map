{"version":3,"sources":["webpack:///src/app/pages/navigation/ongoing/ongoing.page.html","webpack:///src/app/pages/navigation/ongoing/ongoing-routing.module.ts","webpack:///src/app/pages/navigation/ongoing/ongoing.module.ts","webpack:///src/app/pages/navigation/ongoing/ongoing.page.scss","webpack:///src/app/pages/navigation/ongoing/ongoing.page.ts","webpack:///src/app/services/request.service.ts"],"names":["routes","path","component","OngoingPageRoutingModule","imports","forChild","exports","OngoingPageModule","declarations","OngoingPage","requestService","effDate","Math","floor","Date","getTime","expDate","getRequest","subscribe","data","requests","map","e","effectedTime","payload","doc","toLocaleString","expireDate","id","Request","name","phone","location","createRequest","then","res","console","log","error","selector","template","RequestService","firestore","collection","snapshotChanges","request","add","update","requestId","providedIn"],"mappings":"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","file":"ongoing-ongoing-module-es5.js","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar>\\n\\t\\t<ion-title>ongoing</ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\t<ion-item-group>\\n\\t\\t<ion-item>\\n\\t\\t\\t<ion-label position=\\\"floating\\\">Seller</ion-label>\\n\\t\\t\\t<ion-input type=\\\"text\\\" [(ngModel)]=\\\"name\\\"></ion-input>\\n\\t\\t</ion-item>\\n\\t\\t<ion-item>\\n\\t\\t\\t<ion-label position=\\\"floating\\\">Phone</ion-label>\\n\\t\\t\\t<ion-input type=\\\"number\\\" [(ngModel)]=\\\"phone\\\"></ion-input>\\n\\t\\t</ion-item>\\n\\t\\t<ion-item>\\n\\t\\t\\t<ion-label position=\\\"floating\\\">Location</ion-label>\\n\\t\\t\\t<ion-input type=\\\"text\\\" [(ngModel)]=\\\"location\\\"></ion-input>\\n\\t\\t</ion-item>\\n\\t</ion-item-group>\\n\\t<ion-button\\n\\t\\texpand=\\\"block\\\"\\n\\t\\t[disabled]=\\\"!name || !phone || !location\\\"\\n\\t\\t(click)=\\\"createRequest()\\\"\\n\\t>\\n\\t\\tCreate Request\\n\\t</ion-button>\\n\\n\\t<ion-card>\\n\\t\\t<ion-item *ngFor=\\\"let request of requests\\\">\\n\\t\\t\\t<ion-label>Name: {{request.sellerName}}</ion-label>\\n\\t\\t\\t<ion-label>EffDate: {{request.effectedTime}}</ion-label>\\n\\t\\t\\t<ion-label>ExpDate: {{request.expireDate}}</ion-label>\\n\\t\\t</ion-item>\\n\\t</ion-card>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OngoingPage } from './ongoing.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OngoingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OngoingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OngoingPageRoutingModule } from './ongoing-routing.module';\n\nimport { OngoingPage } from './ongoing.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OngoingPageRoutingModule\n  ],\n  declarations: [OngoingPage]\n})\nexport class OngoingPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL25hdmlnYXRpb24vb25nb2luZy9vbmdvaW5nLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { RequestService } from 'src/app/services/request.service';\nimport { Request } from '../../../models/request';\n\n@Component({\n\tselector: 'app-ongoing',\n\ttemplateUrl: './ongoing.page.html',\n\tstyleUrls: ['./ongoing.page.scss'],\n})\nexport class OngoingPage implements OnInit {\n\trequests: Request[];\n\n\tname: string;\n\tphone: string;\n\tlocation: string;\n\n\teffDate = Math.floor(new Date().getTime() / 1000.0);\n\texpDate = Math.floor(new Date().getTime() / 1000.0 + 7200);\n\n\tconstructor(public requestService: RequestService) {}\n\n\tngOnInit() {\n\t\tthis.requestService.getRequest().subscribe((data) => {\n\t\t\tthis.requests = data.map((e) => {\n\t\t\t\tconst effectedTime = new Date(\n\t\t\t\t\te.payload.doc.data()['effectedTime'] * 1000,\n\t\t\t\t).toLocaleString();\n\t\t\t\tconst expireDate = new Date(\n\t\t\t\t\te.payload.doc.data()['expireDate'] * 1000,\n\t\t\t\t).toLocaleString();\n\t\t\t\treturn {\n\t\t\t\t\tid: e.payload.doc.id,\n\t\t\t\t\t...(e.payload.doc.data() as Request),\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t}\n\n\tcreateRequest() {\n\t\tconst Request = {};\n\t\tRequest['sellerName'] = this.name;\n\t\tRequest['phone'] = this.phone;\n\t\tRequest['location'] = this.location;\n\t\tRequest['effectedTime'] = this.effDate;\n\t\tRequest['expireDate'] = this.expDate;\n\n\t\tthis.requestService\n\t\t\t.createRequest(Request)\n\t\t\t.then((res) => {\n\t\t\t\tthis.name = '';\n\t\t\t\tthis.phone = '';\n\t\t\t\tthis.location = '';\n\t\t\t\tconsole.log(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n}\n","import { AngularFirestore } from '@angular/fire/firestore';\nimport { Injectable } from '@angular/core';\nimport { Request } from '../models/request';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class RequestService {\n\tconstructor(private firestore: AngularFirestore) {}\n\n\tgetRequest() {\n\t\treturn this.firestore.collection('requests').snapshotChanges();\n\t}\n\n\tcreateRequest(request: any) {\n\t\treturn this.firestore.collection('requests').add(request);\n\t}\n\n\tupdateRequest(request: Request) {\n\t\tdelete request.id;\n\t\tthis.firestore.doc('requests/' + request.id).update(request);\n\t}\n\n\tdeleteRequest(requestId: string) {\n\t\tthis.firestore.doc('requests/' + requestId).delete();\n\t}\n}\n"]}