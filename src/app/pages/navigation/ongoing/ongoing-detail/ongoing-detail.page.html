<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-back-button></ion-back-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
	<ion-card class="m-0 p-0 ion-padding">
		<ion-grid>
			<ion-row class="mt-4 mb-5">
				<ion-col>
					<ion-label class="pl-2 pr-2 fs-35">2009</ion-label>
					<ion-label class="pl-2 pr-2 fs-35">K-5</ion-label>
					<ion-label class="pl-2 pr-2">12K1234</ion-label>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col>
					<ion-label>Max</ion-label>
					<br />
					<ion-label class="fs-20"><strong>2,000,000</strong></ion-label>
				</ion-col>
				<ion-col>
					<ion-label>Average</ion-label>
					<br />
					<ion-label class="fs-20"><strong>1,790,000</strong></ion-label>
				</ion-col>
				<ion-col>
					<ion-label>Min</ion-label>
					<br />
					<ion-label class="fs-20"><strong>1,230,000</strong></ion-label>
				</ion-col>
			</ion-row>
		</ion-grid>
	</ion-card>

	<ion-item-group class="mt-8 text-center" *ngIf="!participants">
		<ion-label>
			<ion-skeleton-text animated></ion-skeleton-text>
		</ion-label>
		<ion-item-sliding *ngFor="let item of participants">
			<ion-item>
				<ion-avatar slot="start">
					<ion-skeleton-text animated></ion-skeleton-text>
				</ion-avatar>
				<ion-label>
					<h2>
						<ion-skeleton-text animated></ion-skeleton-text>
					</h2>
					<p class="fs-25">
						<ion-skeleton-text animated></ion-skeleton-text>
					</p>
				</ion-label>
				<ion-note slot="end">
					<ion-skeleton-text animated></ion-skeleton-text>
				</ion-note>
				<ion-icon slot="end" name="chevron-back-outline"></ion-icon>
			</ion-item>
		</ion-item-sliding>
	</ion-item-group>

	<ion-item-group
		class="mt-8"
		*ngIf="selectedDealer && ongoing.participants.length === 2"
	>
		<ion-title class="text-center mb-8"
			>A Dealer has confirm the purchase</ion-title
		>
		<ion-label>Dealer Information</ion-label>
		<ion-item lines="none">
			<ion-avatar slot="start">
				<img src="../../../../assets/images/photos/33327.jpg" />
			</ion-avatar>
			<ion-label>
				<h2>{{selectedDealer.dealer.email}}</h2>
				<p class="fs-25">${{selectedDealer.price}}</p>
			</ion-label>
			<ion-note slot="end">
				Rating
			</ion-note>
		</ion-item>
	</ion-item-group>

	<ion-item-group class="mt-8" *ngIf="!selectedDealer">
		<ion-label>Please select a Dealer</ion-label>
		<ion-item-sliding *ngFor="let item of participants">
			<ion-item lines="none" (click)="getDealerDetail(item.id, item.userId)">
				<ion-avatar slot="start">
					<img src="../../../../assets/images/photos/33327.jpg" />
				</ion-avatar>
				<ion-label>
					<h2>{{item.dealer.email}}</h2>
					<p class="fs-25">${{item.price}}</p>
				</ion-label>
				<ion-note slot="end">
					Rating
				</ion-note>
				<ion-icon slot="end" name="chevron-back-outline"></ion-icon>
			</ion-item>
			<ion-item-options side="end">
				<ion-item-option (click)="selectDealer(item.id)">
					Select
				</ion-item-option>
			</ion-item-options>
		</ion-item-sliding>
	</ion-item-group>

	<ion-item-group
		class="mt-8"
		*ngIf="selectedDealer && ongoing.participants.length <= 1"
	>
		<ion-title class="text-center mb-4"
			>Waiting for Dealer Confirmation</ion-title
		>
		<ion-item lines="none">
			<ion-avatar slot="start">
				<img src="../../../../assets/images/photos/33327.jpg" />
			</ion-avatar>
			<ion-label>
				<h2>{{selectedDealer.dealer.email}}</h2>
				<p class="fs-25">${{selectedDealer.price}}</p>
			</ion-label>
			<ion-note slot="end">
				Rating
			</ion-note>
		</ion-item>
	</ion-item-group>
</ion-content>

<ion-footer
	class="ion-padding"
	*ngIf="selectedDealer && ongoing.participants.length === 2"
>
	<ion-button
		expand="full"
		color="tertiary"
		[routerLink]="['/','home','visit',id]"
		>To visit page
	</ion-button>
</ion-footer>
