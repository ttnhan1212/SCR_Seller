{"version":3,"sources":["./src/app/pages/navigation/ongoing/ongoing.page.html","./src/app/pages/navigation/ongoing/ongoing-routing.module.ts","./src/app/pages/navigation/ongoing/ongoing.module.ts","./src/app/pages/navigation/ongoing/ongoing.page.scss","./src/app/pages/navigation/ongoing/ongoing.page.ts","./src/app/services/request.service.ts"],"names":[],"mappings":"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","file":"ongoing-ongoing-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar>\\n\\t\\t<ion-title>ongoing</ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\t<ion-item-group>\\n\\t\\t<ion-item>\\n\\t\\t\\t<ion-label position=\\\"floating\\\">Seller</ion-label>\\n\\t\\t\\t<ion-input type=\\\"text\\\" [(ngModel)]=\\\"name\\\"></ion-input>\\n\\t\\t</ion-item>\\n\\t\\t<ion-item>\\n\\t\\t\\t<ion-label position=\\\"floating\\\">Phone</ion-label>\\n\\t\\t\\t<ion-input type=\\\"number\\\" [(ngModel)]=\\\"phone\\\"></ion-input>\\n\\t\\t</ion-item>\\n\\t\\t<ion-item>\\n\\t\\t\\t<ion-label position=\\\"floating\\\">Location</ion-label>\\n\\t\\t\\t<ion-input type=\\\"text\\\" [(ngModel)]=\\\"location\\\"></ion-input>\\n\\t\\t</ion-item>\\n\\t</ion-item-group>\\n\\t<ion-button\\n\\t\\texpand=\\\"block\\\"\\n\\t\\t[disabled]=\\\"!name || !phone || !location\\\"\\n\\t\\t(click)=\\\"createRequest()\\\"\\n\\t>\\n\\t\\tCreate Request\\n\\t</ion-button>\\n\\n\\t<ion-card>\\n\\t\\t<ion-item *ngFor=\\\"let request of requests\\\">\\n\\t\\t\\t<ion-label>Name: {{request.sellerName}}</ion-label>\\n\\t\\t\\t<ion-label>EffDate: {{request.effectedTime}}</ion-label>\\n\\t\\t\\t<ion-label>ExpDate: {{request.expireDate}}</ion-label>\\n\\t\\t</ion-item>\\n\\t</ion-card>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OngoingPage } from './ongoing.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OngoingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OngoingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OngoingPageRoutingModule } from './ongoing-routing.module';\n\nimport { OngoingPage } from './ongoing.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OngoingPageRoutingModule\n  ],\n  declarations: [OngoingPage]\n})\nexport class OngoingPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL25hdmlnYXRpb24vb25nb2luZy9vbmdvaW5nLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { RequestService } from 'src/app/services/request.service';\nimport { Request } from '../../../models/request';\n\n@Component({\n\tselector: 'app-ongoing',\n\ttemplateUrl: './ongoing.page.html',\n\tstyleUrls: ['./ongoing.page.scss'],\n})\nexport class OngoingPage implements OnInit {\n\trequests: Request[];\n\n\tname: string;\n\tphone: string;\n\tlocation: string;\n\n\teffDate = Math.floor(new Date().getTime() / 1000.0);\n\texpDate = Math.floor(new Date().getTime() / 1000.0 + 7200);\n\n\tconstructor(public requestService: RequestService) {}\n\n\tngOnInit() {\n\t\tthis.requestService.getRequest().subscribe((data) => {\n\t\t\tthis.requests = data.map((e) => {\n\t\t\t\tconst effectedTime = new Date(\n\t\t\t\t\te.payload.doc.data()['effectedTime'] * 1000,\n\t\t\t\t).toLocaleString();\n\t\t\t\tconst expireDate = new Date(\n\t\t\t\t\te.payload.doc.data()['expireDate'] * 1000,\n\t\t\t\t).toLocaleString();\n\t\t\t\treturn {\n\t\t\t\t\tid: e.payload.doc.id,\n\t\t\t\t\t...(e.payload.doc.data() as Request),\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t}\n\n\tcreateRequest() {\n\t\tconst Request = {};\n\t\tRequest['sellerName'] = this.name;\n\t\tRequest['phone'] = this.phone;\n\t\tRequest['location'] = this.location;\n\t\tRequest['effectedTime'] = this.effDate;\n\t\tRequest['expireDate'] = this.expDate;\n\n\t\tthis.requestService\n\t\t\t.createRequest(Request)\n\t\t\t.then((res) => {\n\t\t\t\tthis.name = '';\n\t\t\t\tthis.phone = '';\n\t\t\t\tthis.location = '';\n\t\t\t\tconsole.log(res);\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n}\n","import { AngularFirestore } from '@angular/fire/firestore';\nimport { Injectable } from '@angular/core';\nimport { Request } from '../models/request';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class RequestService {\n\tconstructor(private firestore: AngularFirestore) {}\n\n\tgetRequest() {\n\t\treturn this.firestore.collection('requests').snapshotChanges();\n\t}\n\n\tcreateRequest(request: any) {\n\t\treturn this.firestore.collection('requests').add(request);\n\t}\n\n\tupdateRequest(request: Request) {\n\t\tdelete request.id;\n\t\tthis.firestore.doc('requests/' + request.id).update(request);\n\t}\n\n\tdeleteRequest(requestId: string) {\n\t\tthis.firestore.doc('requests/' + requestId).delete();\n\t}\n}\n"],"sourceRoot":"webpack:///"}