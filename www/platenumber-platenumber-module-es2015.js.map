{"version":3,"sources":["./src/app/pages/request/platenumber/platenumber.page.html","./src/app/pages/request/platenumber/platenumber-routing.module.ts","./src/app/pages/request/platenumber/platenumber.module.ts","./src/app/pages/request/platenumber/platenumber.page.scss","./src/app/pages/request/platenumber/platenumber.page.ts","./src/app/services/vehicles.service.ts"],"names":[],"mappings":"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","file":"platenumber-platenumber-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar>\\n\\t\\t<ion-button slot=\\\"end\\\" fill=\\\"clear\\\" [routerLink]=\\\"['/','home','seller']\\\">\\n\\t\\t\\t<ion-icon name=\\\"log-out-outline\\\"></ion-icon>\\n\\t\\t</ion-button>\\n\\t\\t<ion-title>Request</ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"p-1\\\">\\n\\t<ion-card class=\\\"p-2\\\">\\n\\t\\t<ion-item class=\\\"mt-4\\\">\\n\\t\\t\\t<ion-label position=\\\"floating\\\">Plate Number</ion-label>\\n\\t\\t\\t<ion-input\\n\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\tplaceholder=\\\"Your Plate Number\\\"\\n\\t\\t\\t\\t[(ngModel)]=\\\"plate\\\"\\n\\t\\t\\t></ion-input>\\n\\t\\t</ion-item>\\n\\t\\t<ion-button\\n\\t\\t\\tclass=\\\"mt-4\\\"\\n\\t\\t\\texpand=\\\"block\\\"\\n\\t\\t\\tcolor=\\\"tertiary\\\"\\n\\t\\t\\t[disabled]=\\\"!plate\\\"\\n\\t\\t\\t(click)=\\\"createPlate()\\\"\\n\\t\\t>\\n\\t\\t\\tConfirm\\n\\t\\t</ion-button>\\n\\t</ion-card>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlatenumberPage } from './platenumber.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlatenumberPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlatenumberPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PlatenumberPageRoutingModule } from './platenumber-routing.module';\n\nimport { PlatenumberPage } from './platenumber.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlatenumberPageRoutingModule\n  ],\n  declarations: [PlatenumberPage]\n})\nexport class PlatenumberPageModule {}\n","export default \"ion-card {\\n  position: absolute;\\n  top: 45%;\\n  left: 48%;\\n  transform: translate(-50%, -50%);\\n  width: 90vw;\\n  height: 20vh;\\n}\\n\\n* {\\n  font-family: \\\"Noto Sans KR\\\", sans-serif;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmVxdWVzdC9wbGF0ZW51bWJlci9wbGF0ZW51bWJlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxrQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBRUEsZ0NBQUE7RUFFQSxXQUFBO0VBQ0EsWUFBQTtBQUREOztBQUlBO0VBQ0MsdUNBQUE7QUFERCIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JlcXVlc3QvcGxhdGVudW1iZXIvcGxhdGVudW1iZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNhcmQge1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHRvcDogNDUlO1xuXHRsZWZ0OiA0OCU7XG5cblx0dHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG5cblx0d2lkdGg6IDkwdnc7XG5cdGhlaWdodDogMjB2aDtcbn1cblxuKiB7XG5cdGZvbnQtZmFtaWx5OiAnTm90byBTYW5zIEtSJywgc2Fucy1zZXJpZjtcbn1cbiJdfQ== */\";","import { NotiService } from './../../../services/noti.service';\nimport { Router, NavigationExtras } from '@angular/router';\nimport { RequestService } from '../../../services/request.service';\nimport { ToastService } from '../../../services/toast.service';\nimport { LoadingController } from '@ionic/angular';\nimport { AuthService } from '../../../services/auth.service';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { Component, OnInit } from '@angular/core';\nimport { VehicleService } from '../../../services/vehicles.service';\n\n@Component({\n\tselector: 'app-platenumber',\n\ttemplateUrl: './platenumber.page.html',\n\tstyleUrls: ['./platenumber.page.scss'],\n})\nexport class PlatenumberPage implements OnInit {\n\tplate: string;\n\n\tsellerId: string;\n\trequestSellerId: string;\n\n\trequestState: NavigationExtras;\n\tconstructor(\n\t\tpublic vehicleService: VehicleService,\n\t\tpublic requestService: RequestService,\n\t\tpublic afAuth: AngularFireAuth,\n\t\tpublic authService: AuthService,\n\t\tpublic loadingController: LoadingController,\n\t\tpublic toast: ToastService,\n\t\tpublic route: Router,\n\t\tpublic notiService: NotiService,\n\t) {\n\t\tthis.sellerId = JSON.parse(localStorage.getItem('user')).uid;\n\t}\n\n\tngOnInit() {}\n\n\tasync createPlate() {\n\t\tlet vehicle = {};\n\n\t\tconst loading = await this.loadingController.create({\n\t\t\tmessage: 'Please wait...',\n\t\t\tshowBackdrop: true,\n\t\t});\n\t\tvehicle['platenumber'] = this.plate;\n\n\t\ttry {\n\t\t\tawait loading.present();\n\t\t\tawait this.vehicleService\n\t\t\t\t.createVehicle(vehicle)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tthis.plate = '';\n\t\t\t\t\tlet request = {};\n\t\t\t\t\trequest['vehiclesId'] = res.id;\n\t\t\t\t\trequest['status'] = 'draft';\n\t\t\t\t\ttry {\n\t\t\t\t\t\tthis.toast.showToast('Your request is successfully created!');\n\t\t\t\t\t\tthis.requestService\n\t\t\t\t\t\t\t.createRequestBySeller(request, this.sellerId)\n\t\t\t\t\t\t\t.then((val) => {\n\t\t\t\t\t\t\t\tthis.requestSellerId = val.id;\n\t\t\t\t\t\t\t\tconsole.log(this.requestSellerId);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\t\tconsole.log(err.message);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.requestService\n\t\t\t\t\t\t\t.createRequest(request)\n\t\t\t\t\t\t\t.then((val) => {\n\t\t\t\t\t\t\t\tthis.requestState = {\n\t\t\t\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\t\t\t\trequestSellerId: this.requestSellerId,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tthis.notiService.createNoti({\n\t\t\t\t\t\t\t\t\trequestId: val.id,\n\t\t\t\t\t\t\t\t\tstatus: 'ongoing',\n\t\t\t\t\t\t\t\t\tupdateDate: Math.floor(new Date().getTime() / 1000.0),\n\t\t\t\t\t\t\t\t\tuser: this.sellerId,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.route.navigate(\n\t\t\t\t\t\t\t\t\t['/', 'request', val.id],\n\t\t\t\t\t\t\t\t\tthis.requestState,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\t\tconsole.log(err.message);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tthis.toast.showToast(error.message);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tthis.toast.showToast(error.message);\n\t\t\t\t});\n\t\t\tawait loading.dismiss();\n\t\t} catch (error) {\n\t\t\tthis.toast.showToast(error.message);\n\t\t\tawait loading.dismiss();\n\t\t}\n\t}\n}\n","import { AngularFirestore } from '@angular/fire/firestore';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class VehicleService {\n\tconstructor(private firestore: AngularFirestore) {}\n\n\t// getRequest() {\n\t// \treturn this.firestore\n\t// \t\t.collection(\"requests\", (ref) =>\n\t// \t\t\tref.where(\"sellerId\", \"==\", this.loggedUser)\n\t// \t\t)\n\t// \t\t.snapshotChanges();\n\t// }\n\n\tgetVehicleById(id: string) {\n\t\treturn this.firestore\n\t\t\t.collection('vehicles', (ref) => ref.where('id', '==', id))\n\t\t\t.snapshotChanges();\n\t}\n\n\tcreateVehicle(vehicle: any) {\n\t\treturn this.firestore.collection('vehicles').add(vehicle);\n\t}\n\n\t// updateRequest(request: Request) {\n\t// \tdelete request.id;\n\t// \tthis.firestore.doc('requests/' + request.id).update(request);\n\t// }\n\n\tdeleteVehicle(id: string) {\n\t\tthis.firestore.collection('vehicles').doc(id).delete();\n\t}\n}\n"],"sourceRoot":"webpack:///"}